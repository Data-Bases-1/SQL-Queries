DROP DATABASE IF EXISTS new_personnel;
CREATE DATABASE IF NOT EXISTS new_personnel;
USE new_personnel;

CREATE TABLE IF NOT EXISTS DEPT(DEPTNO INT(2) NOT NULL, DNAME VARCHAR(14), LOC VARCHAR(14), PRIMARY KEY(DEPTNO));
DESCRIBE DEPT;
INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (10, 'ACCOUNTING', 'ATHENS');
INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (20, 'SALES', 'LONDON');
INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (30, 'RESEARCH', 'ATHENS');
INSERT INTO DEPT (DEPTNO, DNAME, LOC) VALUES (40, 'PAYROLL', 'LONDON');
SELECT * FROM DEPT;

CREATE TABLE IF NOT EXISTS EMP (EMPNO INT(2) NOT NULL, ENAME VARCHAR(14), JOB VARCHAR(14), HIREDATE DATE, MGR INT(2), SAL INT(4), COMM INT(3), DEPTNO INT(2) NOT NULL, PRIMARY KEY(EMPNO), FOREIGN KEY(DEPTNO) REFERENCES DEPT(DEPTNO));
DESCRIBE EMP;
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, MGR, SAL, COMM, DEPTNO) VALUES (10, 'CODD', 'ANALYST', '89/1/1', 15, 3000, NULL, 10);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, MGR, SAL, COMM, DEPTNO) VALUES (15, 'ELMASRI', 'ANALYST', '95/5/2', 15, 1200, 150, 10);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, MGR, SAL, COMM, DEPTNO) VALUES (20, 'NAVATHE', 'SALESMAN', '77/7/7', 20, 2000, NULL, 20);
INSERT INTO EMP (EMPNO, ENAME, JOB, HIREDATE, MGR, SAL, COMM, DEPTNO) VALUES (30, 'DATE', 'PROGRAMMER', '04/5/4', 15, 1800, 200, 10);
SELECT * FROM EMP;

CREATE TABLE IF NOT EXISTS PROJ (PROJ_CODE INT(3) NOT NULL, DESCRIPTION VARCHAR(14), PRIMARY KEY(PROJ_CODE));
DESCRIBE PROJ;
INSERT INTO PROJ (PROJ_CODE, DESCRIPTION) VALUES (100, 'PAYROLL');
INSERT INTO PROJ (PROJ_CODE, DESCRIPTION) VALUES (200, 'PERSONNEL');
INSERT INTO PROJ (PROJ_CODE, DESCRIPTION) VALUES (300, 'SALES');
SELECT * FROM PROJ;

CREATE TABLE IF NOT EXISTS ASSIGN (EMPNO INT(2) NOT NULL, PROJ_CODE INT(3) NOT NULL, A_TIME INT(3), PRIMARY KEY(EMPNO, PROJ_CODE), FOREIGN KEY(EMPNO) REFERENCES EMP(EMPNO), FOREIGN KEY(PROJ_CODE) REFERENCES PROJ(PROJ_CODE));
DESCRIBE ASSIGN;
INSERT INTO ASSIGN (EMPNO, PROJ_CODE, A_TIME) VALUES (10, 100, 40);
INSERT INTO ASSIGN (EMPNO, PROJ_CODE, A_TIME) VALUES (10, 200, 60);
INSERT INTO ASSIGN (EMPNO, PROJ_CODE, A_TIME) VALUES (15, 100, 100);
INSERT INTO ASSIGN (EMPNO, PROJ_CODE, A_TIME) VALUES (20, 200, 100);
INSERT INTO ASSIGN (EMPNO, PROJ_CODE, A_TIME) VALUES (30, 100, 100);
SELECT * FROM ASSIGN;